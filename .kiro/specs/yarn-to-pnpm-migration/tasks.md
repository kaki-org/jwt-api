# 実装計画

- [x] 1. マイグレーション環境の準備と現在の状態のバックアップ

  - 現在の yarn.lock ファイルのバックアップを作成
  - 検証用に現在の依存関係のバージョンを記録
  - ベースラインとして現在のアプリケーション機能を確認
  - _要件: 6.2, 6.3_

- [x] 2. pnpm 互換性のための package.json 設定の更新

  - package.json の dependencies セクションから yarn 依存関係を削除
  - yarn の参照を pnpm に変更するために npm スクリプトを更新
  - 既存の依存関係のバージョンと設定をすべて保持
  - _要件: 1.3, 2.5, 6.1_

- [x] 3. pnpm 設定の作成とロックファイルの生成

  - 適切な pnpm 設定で.npmrc ファイルを作成
  - pnpm install を実行して pnpm-lock.yaml を生成
  - すべての依存関係が yarn.lock と同じバージョンに解決されることを確認
  - _要件: 1.2, 6.1, 6.2_

- [x] 4. pnpm でのローカル開発ワークフローのテスト

  - pnpm dev コマンドが開発サーバーを正しく起動することをテスト
  - pnpm build コマンドが本番ビルドを成功させることをテスト
  - pnpm lint と pnpm lintfix コマンドが正しく動作することをテスト
  - ホットリロードと開発機能が正しく機能することを確認
  - _要件: 2.1, 2.2, 2.3, 2.4, 6.3_

- [x] 5. pnpm 用の Docker 設定の更新

  - front/Dockerfile を修正して yarn の代わりに pnpm をインストール・使用
  - Dockerfile のパッケージインストールとビルドコマンドを更新
  - Docker イメージが pnpm で正常にビルドされることをテスト
  - _要件: 3.1, 3.3_

- [ ] 6. デプロイメント設定ファイルの更新

  - front/heroku.yml を yarn run start の代わりに pnpm run start を使用するよう更新
  - docker-compose.yml のコメント内の pnpm 参照を更新
  - デプロイメント設定の変更をテスト
  - _要件: 3.2, 4.2_

- [ ] 7. 開発ツール設定の更新

  - dip.yml の yarn コマンドを pnpm コマンドに置き換え
  - dip pnpm コマンドが正しく動作することをテスト
  - すべての dip コマンドが正常に機能することを確認
  - _要件: 4.1_

- [ ] 8. プロジェクトドキュメントの更新

  - front/README.md の yarn 指示を pnpm に置き換え
  - セットアップとインストール指示を pnpm を参照するよう更新
  - すべてのコマンド例を yarn の代わりに pnpm を使用するよう更新
  - _要件: 5.1, 5.2, 5.3_

- [ ] 9. yarn アーティファクトと参照のクリーンアップ

  - front ディレクトリから yarn.lock ファイルを削除
  - package.json から yarn 依存関係を削除（まだ存在する場合）
  - 残っている不要な yarn 参照を検索して削除
  - _要件: 7.1, 7.2, 7.3, 7.4_

- [ ] 10. 最終検証とテストの実行
  - リグレッションがないことを確認するため完全なテストスイートを実行
  - Docker ビルドとデプロイメントプロセスがエンドツーエンドで動作することを確認
  - フロントエンドが Rails API と正しく通信することをテスト
  - 観察されたパフォーマンス改善を記録
  - _要件: 6.3, 4.3_
